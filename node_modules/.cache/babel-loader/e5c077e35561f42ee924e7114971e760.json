{"ast":null,"code":"var _jsxFileName = \"/home/dana/my401/class31/todo-app/src/components/list.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport If from './IF.js';\nimport { useState } from 'react';\nimport { Button } from \"react-bootstrap\";\nimport { Form } from \"react-bootstrap\";\nimport { Badge } from \"react-bootstrap\";\nimport { Toast } from \"react-bootstrap\";\nimport { SettingsContext } from './settings-context';\nimport { Pagination } from 'react-bootstrap';\nimport { useContext } from 'react';\nimport Acl from './acl.jsx';\nimport { AuthContext } from './auth-context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction TodoList(props) {\n  _s();\n\n  const [flag, setFlag] = useState(false);\n  const [id, setId] = useState('');\n  const authContext = useContext(AuthContext);\n  let list = props.list;\n  const context = useContext(SettingsContext);\n  const maxItems = context.itemPerPage;\n  const [currentPage, setCurrentPage] = useState(1);\n\n  if (context.completed) {\n    list = list.filter(task => !task.complete);\n  }\n\n  const last = currentPage * context.itemPerPage;\n  const first = last - context.itemPerPage;\n\n  if (context.sortBy === 'difficulty') {\n    list.sort((a, b) => {\n      if (a.difficulty && b.difficulty) {\n        if (a.difficulty > b.difficulty) return 1;else if (a.difficulty < b.difficulty) return -1;else if (a.difficulty === b.difficulty) return 0;\n      }\n    });\n  } else if (context.sortBy === 'assignee') {\n    list.sort((a, b) => {\n      if (a.assignee && b.assignee) {\n        if (a.assignee.toLowerCase() > b.assignee.toLowerCase()) return 1;else if (a.assignee.toLowerCase() < b.assignee.toLowerCase()) return -1;else if (a.assignee.toLowerCase() === b.assignee.toLowerCase()) return 0;\n      }\n    });\n  } else if (context.sortBy === 'text') {\n    list.sort((a, b) => {\n      if (a.text && b.text) {\n        if (a.text.toLowerCase() > b.text.toLowerCase()) return 1;else if (a.text.toLowerCase() < b.text.toLowerCase()) return -1;else if (a.text.toLowerCase() === b.text.toLowerCase()) return 0;\n      }\n    });\n  }\n\n  let currentTasks = list.slice(first, last);\n  let numOfPages = list.length / maxItems;\n  context.setTaskSum(list.length); // let  numOfPages = list.length / maxItems + 1;\n\n  const toggle = id => {\n    setFlag(!flag);\n    setId(id);\n  };\n\n  const editor = e => {\n    e.preventDefault();\n    toggle(id);\n    let newUpdate = e.target.text.value;\n    props.editor(newUpdate, id);\n  };\n\n  let active = currentPage;\n  let items = [];\n\n  for (let number = 1; number <= numOfPages; number++) {\n    items.push( /*#__PURE__*/_jsxDEV(Pagination.Item, {\n      active: number === active,\n      children: number\n    }, number, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(If, {\n      condition: flag,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: editor,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formBasicEmail\",\n          children: /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Edit Task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"warning\",\n          type: \"submit\",\n          children: \"Submit Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 8\n    }, this), currentTasks.map(item => /*#__PURE__*/_jsxDEV(Toast, {\n      style: {\n        minWidth: '200px',\n        maxWidth: '50%'\n      } // onClose={() => props.deleteItem(item._id)} value={item._id}\n      ,\n      onClose: () => authContext.user.capabilities.includes('delete') ? props.deleteItem(item._id) : false,\n      value: item._id,\n      children: [/*#__PURE__*/_jsxDEV(Toast.Header, {\n        children: [/*#__PURE__*/_jsxDEV(Badge, {\n          pill: true,\n          variant: item.complete ? 'danger' : 'success',\n          children: [\" \", item.complete ? 'completed' : 'pending', \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 12\n        }, this), ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n          className: \"mr-auto ml-4\",\n          children: [\"  \", item.assignee, \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(Toast.Body, {\n        onClick: () => authContext.user.capabilities.includes('update') ? props.handleComplete(item._id) : false,\n        style: {\n          cursor: 'pointer'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `ml-3 ${item.complete ? 'text-muted text-decoration-line-through' : ''}`,\n          children: item.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"float-right\",\n          style: {\n            fontSize: '90%'\n          },\n          children: [\"Difficulty: \", item.difficulty]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Acl, {\n          capability: \"update\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"warning\",\n            onClick: () => toggle(item._id),\n            value: item._id,\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)]\n    }, item._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Pagination, {\n      children: [/*#__PURE__*/_jsxDEV(Pagination.Prev, {\n        disabled: active === 1 ? true : false,\n        onClick: () => {\n          setCurrentPage(currentPage - 1);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this), items, /*#__PURE__*/_jsxDEV(Pagination.Next, {\n        disabled: active > numOfPages - 1 ? true : false,\n        onClick: () => {\n          setCurrentPage(currentPage + 1);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TodoList, \"EYY6fQp4B00WIKGpB2j6d3mkEtA=\");\n\n_c = TodoList;\nexport default TodoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"sources":["/home/dana/my401/class31/todo-app/src/components/list.js"],"names":["React","If","useState","Button","Form","Badge","Toast","SettingsContext","Pagination","useContext","Acl","AuthContext","TodoList","props","flag","setFlag","id","setId","authContext","list","context","maxItems","itemPerPage","currentPage","setCurrentPage","completed","filter","task","complete","last","first","sortBy","sort","a","b","difficulty","assignee","toLowerCase","text","currentTasks","slice","numOfPages","length","setTaskSum","toggle","editor","e","preventDefault","newUpdate","target","value","active","items","number","push","map","item","minWidth","maxWidth","user","capabilities","includes","deleteItem","_id","handleComplete","cursor","fontSize"],"mappings":"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","sourcesContent":["import React from 'react';\nimport If from './IF.js'\nimport { useState } from 'react';\nimport { Button } from \"react-bootstrap\";\nimport { Form } from \"react-bootstrap\";\nimport { Badge } from \"react-bootstrap\";\nimport{Toast} from \"react-bootstrap\";\nimport {SettingsContext} from './settings-context';\nimport {  Pagination } from  'react-bootstrap'\nimport { useContext } from 'react';\nimport Acl from './acl.jsx'\nimport { AuthContext } from './auth-context';\n\n\nfunction TodoList(props) {\nconst [flag , setFlag ] = useState(false);\nconst [id , setId] = useState ('')\nconst authContext = useContext (AuthContext)\nlet list = props.list\nconst context = useContext(SettingsContext)\n\nconst maxItems = context.itemPerPage;\n\nconst [currentPage, setCurrentPage] = useState(1);\nif (context.completed){\n  list = list.filter((task) => !task.complete);\n}\n\n  \nconst last = currentPage * context.itemPerPage;\nconst first = last - context.itemPerPage;\n\nif (context.sortBy === 'difficulty'){\n  list.sort ((a,b)=> {\n    if (a.difficulty && b.difficulty){\n      if (a.difficulty > b.difficulty) return 1\n      else if (a.difficulty < b.difficulty) return -1\n      else if (a.difficulty === b.difficulty) return 0\n    }\n  })\n}\nelse if (context.sortBy === 'assignee'){\n  list.sort ((a,b)=> {\n    if (a.assignee && b.assignee){\n      if (a.assignee.toLowerCase()  > b.assignee.toLowerCase() ) return 1\n      else if (a.assignee.toLowerCase() < b.assignee.toLowerCase() ) return -1\n      else if (a.assignee.toLowerCase()  === b.assignee.toLowerCase() ) return 0\n    }\n  })\n}\nelse if (context.sortBy === 'text'){\n  list.sort ((a,b)=> {\n    if (a.text && b.text){\n      if (a.text.toLowerCase()  > b.text.toLowerCase() ) return 1\n      else if (a.text.toLowerCase() < b.text.toLowerCase() ) return -1\n      else if (a.text.toLowerCase()  === b.text.toLowerCase() ) return 0\n    }\n  })\n}\n \nlet currentTasks = list.slice(first, last);\nlet numOfPages =(list.length / maxItems )\ncontext.setTaskSum(list.length);\n// let  numOfPages = list.length / maxItems + 1;\n\nconst toggle = (id) =>{\n  setFlag (!flag);\n  setId (id)\n}\n\nconst editor =e=>{\n e.preventDefault();\n toggle (id);\n let newUpdate = e.target.text.value\n props.editor (newUpdate , id)\n}\n\n \n\n  \n  let active = currentPage;\n  let items = [];\n  for (let number = 1; number <= numOfPages; number++) {\n    items.push(\n      <Pagination.Item key={number} active={number === active}>\n        {number}\n      </Pagination.Item>,\n    );\n  }\n\n\n\n    return (\n      <>\n       <If condition={flag}>\n      <Form onSubmit= {editor}>\n      <Form.Group controlId=\"formBasicEmail\">\n      <Form.Label>\n      <span>Edit Task</span>\n      <Form.Control  type=\"text\" name=\"text\"   />\n      </Form.Label>\n      </Form.Group>\n    \n      <  Button variant=\"warning\" type=\"submit\" >Submit Edit</Button>\n      </Form>\n  </If>\n        {currentTasks.map(item => (\n        <Toast  \n        key={item._id}\n        style={{ minWidth: '200px',maxWidth:'50%' }}\n        // onClose={() => props.deleteItem(item._id)} value={item._id}\n        onClose={() =>authContext.user.capabilities.includes('delete')? props.deleteItem(item._id) : false} value={item._id}\n\n        >\n           <Toast.Header>\n           <Badge pill variant={item.complete ? 'danger' : 'success'} > {item.complete ? 'completed' : 'pending'} </Badge>{' '}\n        \n            <strong className=\"mr-auto ml-4\" >  {item.assignee}  </strong>\n          \n            \n          </Toast.Header>\n\n          <Toast.Body onClick={() =>authContext.user.capabilities.includes('update')? props.handleComplete(item._id) : false} style={{ cursor: 'pointer' }}>\n            <h3 className={`ml-3 ${item.complete ? 'text-muted text-decoration-line-through' : ''}`}>{item.text}</h3>\n            <br />\n            <p className=\"float-right\" style={{ fontSize: '90%' }}>\n              Difficulty: {item.difficulty}\n            </p>\n            <br />\n            <Acl capability=\"update\">\n            <Button variant=\"warning\" onClick={()=>toggle(item._id)} value={item._id}>Edit</Button>{' '}\n            </Acl>\n          </Toast.Body>\n           \n        \n          </Toast>\n        ))}\n     <Pagination>\n            <Pagination.Prev\n              disabled={active === 1 ? true : false}\n              onClick={() => {\n                setCurrentPage(currentPage - 1);\n              }}\n            />\n            {items}\n            <Pagination.Next\n              disabled={active > numOfPages - 1 ? true : false}\n              onClick={() => {\n                setCurrentPage(currentPage + 1);\n              }}\n            />\n          </Pagination>\n     \n\n  </>\n\n     \n    );\n\n}\n\nexport default TodoList;"]},"metadata":{},"sourceType":"module"}